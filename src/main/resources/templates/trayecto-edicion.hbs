<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Modificar Trayecto {{trayecto.id}}</title>
    <link rel="stylesheet" href="/css/trayecto-edicion.css" >
  </head>
  <body>
  	<div class="edicion">
      <span>ID-Trayecto: {{trayecto.id}}</span> <br /><br />
      <!-- action="/trayecto/#id" al editar particular (method post xq html no tiene form.put) -->
      <form action="/trayecto/{{trayecto.id}}" method="post">
      	<div class="form-fecha">
        <label for="fecha">Fecha</label>
      	<input id="fecha" type="text" name="fecha" value="{{trayecto.periodo.mes}}/{{trayecto.periodo.anio}}"/>
        </div>
        <br />
        <div class="form-miembros">
          <fieldset>
            <legend>Miembros</legend>

            <input id="logueado" type="checkbox" value="m-logueado" name="m-miembro" checked disabled/>
            <label for="logueado">Miembro Logueado</label><br />

            {{#each miembros}}
              <input id="miembro{{miembro.id}}" type="checkbox" value="m-miembro{{miembro.id}}" name="m-mimbro"  {{#if contieneTrayecto}}checked{{/if}} />
              <label for="miembro{{miembro.id}}">{{miembro.nombre}} {{miembro.apellido}} - {{miembro.tipoDeDocumento}}: {{miembro.nroDocumento}}</label><br />
            {{/each}}
            <!-- ver si name="m-miembro[]" como PHP -->
          </fieldset>
        </div>
        <br />
        <div class="tramos">
        {{#each trayecto.tramos}}
          <fieldset>
            <legend>Tramo{{id}}</legend>
            <label for="transporte">Transporte</label>

              <select id="transporte" name="transporte" >
                <option class="campo-seleccionar" value="{{medioDeTransporte.clasificacion}}" selected>{{medioDeTransporte.clasificacion}}</option>
                {{#each transportes}}
                <option value="transporte{{id}}">{{clasificacion}}</option>
                {{/each}}
              </select>

            <!--<select id="transporte" name="transporte" required>
              <option class="campo-seleccionar" value="{{medioDeTransporte.clasificacion}}" selected>{{medioDeTransporte.clasificacion}}</option>
              <optgroup label="Público">
                <option value="subteA">Subte A</option>
                <option value="bondi47">Colectivo 47</option>
              </optgroup>
              <optgroup label="Particular">
                <option value="nafta">Nafta</option>
                <option value="gnc">GNC</option>
              </optgroup>
              <optgroup label="Ecológico">
                <option value="pie">A Pie</option>
                <option value="bicicleta">Bicicleta</option>
              </optgroup>
              <optgroup label="Contratado">
                <option value="uber">Uber</option>
                <option value="taxi">Taxi</option>
                <option value="didi">DiDi</option>
              </optgroup>
            </select>-->
            <br /><br />
            <fieldset>
              <legend>Coordenadas Iniciales</legend>
              <label>Latitud:</label>
              <input id="lat-inicial" type="text" name="lat-inicial" value="{{ubicacionInicial.coordenada.latitud}}" />
              <label>Longitud:</label>
              <input id="lon-inicial" type="text" name="lon-inicial" value="{{ubicacionInicial.coordenada.longitud}}"/>
            </fieldset>
            <br />
            <fieldset>
              <legend>Coordenadas Finales</legend>
              <label for="lat-final">Latitud:</label>
              <input id="lat-final" type="text" name="lat-final" value="{{ubicacionFinal.coordenada.latitud}}"/>
              <label for="lon-final">Longitud:</label>
              <input id="lon-final" type="text" name="lon-final" value="{{ubicacionFinal.coordenada.longitud}}"/>
            </fieldset>
          </fieldset>
          <br />
        {{/each}}
        </div>
        
        <div class="reiniciar">
          <input type="reset" value="Reiniciar"/> <!-- Quizas sacarlo -->
        </div>
        <div class="enviar"> 
          <!-- Cuando es en trayectos "Crear Nuevo": value="Crear" -->
          <!-- Cuando es en trayecto particular "Editar": value="Confirmar" -->
          <input type="submit" value="Crear" />
        </div>
      </form>
    </div>
    <br />
    <!-- Cuando es en trayectos "Crear Nuevo": href="/trayectos" -->
    <!-- Cuando es en trayecto particular "Editar": href="/trayecto/#id" -->
    <div class="cancelar">
      <span><a href="/trayecto/{{trayecto.id}}">CANCELAR</a></span>
    </div>
  </body>
</html>